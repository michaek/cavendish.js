// Generated by CoffeeScript 1.3.3
(function(){var e,t,n,r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=jQuery,t=function(){function t(e,t){this.show=e,this.options=t,this.slides=this.show.find(this.options.slideSelector),this.slides.length>0&&this.initialize()}return t.prototype.initialize=function(){var t,n,r,i,s,o;r=e.fn.cavendish.plugins,this.plugins=function(){var e,t,i,s;i=this.options.use_plugins,s=[];for(e=0,t=i.length;e<t;e++)n=i[e],s.push(new r[n](this));return s}.call(this),this.last=e(),this.length=this.slides.length,this.show.data("cavendish",this).addClass(this.options.class_names.show),o=this.plugins;for(i=0,s=o.length;i<s;i++)t=o[i],t.setup(),this.options=e.extend(!0,{},t.defaults,this.options);return this.goto(0),this.slides.not(this.current).addClass(this.options.class_names.slide.before)},t.prototype.next=function(){var e;return e=this.index+1,e>=this.length&&this.options.loop&&(e=0),this.goto(e)},t.prototype.prev=function(){var e;return e=this.index-1,e<0&&this.options.loop&&(e=this.length-1),this.goto(e)},t.prototype.goto=function(t){var n,r,i,s,o,u,a,f,l=this;if(this.slides[t]==null)return;this.index=t,this.current!=null&&(this.last=this.current),this.current=this.slides.eq(this.index),n=this.options.class_names.slide,this.slides.removeClass(function(){var e;e=[];for(r in n)i=n[r],e.push(i);return e}().join(" ")),this.last.addClass(n.after),this.current.addClass(n.on),this.slides.each(function(t,r){if(t<l.index)return e(r).addClass(n.left);if(t>l.index)return e(r).addClass(n.right)}),this.slides.not(this.last).not(this.current).addClass(n.before),a=this.plugins,f=[];for(o=0,u=a.length;o<u;o++)s=a[o],f.push(s.transition());return f},t}(),n=function(t){function n(t,r){r=e.extend(!0,{},this.defaults,r),n.__super__.constructor.call(this,t,r)}return s(n,t),n.prototype.initialize=function(){var e=this;n.__super__.initialize.apply(this,arguments),this.options.player_pause&&this.show.hover(function(){return e.stop()},function(){return e.start()});if(this.options.player_start)return this.start()},n.prototype.start=function(){var e=this;return this.show.addClass(this.options.class_names.playing),this.timeout=setInterval(function(){return e.next()},this.options.slideTimeout)},n.prototype.stop=function(){return this.show.removeClass(this.options.class_names.playing),clearInterval(this.timeout)},n.prototype.defaults={player_start:!0,player_pause:!0,slideTimeout:2e3,class_names:{playing:"cavendish-playing"}},n}(t),e.fn.cavendish=function(i){var s;if(typeof i!="string")return i=e.extend(!0,{},r,i),this.each(function(){return i.player?new n(e(this),i):new t(e(this),i)});s=e(this).data("cavendish");if(s!=null)switch(i){case"next":s.next();break;case"prev":s.prev();break;case"cavendish":return s}return this},r=e.fn.cavendish.defaults={player:!0,loop:!0,slideSelector:"> ol > li",use_plugins:[],class_names:{show:"cavendish-slideshow",slide:{left:"cavendish-left",right:"cavendish-right",on:"cavendish-onstage",before:"cavendish-before",after:"cavendish-after"}}},e.fn.cavendish.plugins={}}).call(this),function(){var e,t,n,r,i,s,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=jQuery,s=function(){function e(e){this.cavendish=e}return e.prototype.setup=function(){},e.prototype.transition=function(){},e.prototype.defaults={class_names:{active:"active",disabled:"disabled"}},e}(),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.setup=function(){return this.cavendish.show.trigger("cavendish-setup",[this.cavendish])},t.prototype.transition=function(){return this.cavendish.show.trigger("cavendish-transition",[this.cavendish])},t}(s),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.setup=function(){var t=this;return this.pager=e(".cavendish-pager"),this.pager.find("a").each(function(n,r){return e(r).click(function(){return t.cavendish.goto(n),!1})})},n.prototype.transition=function(){return this.pager.find("li").removeClass(this.cavendish.options.class_names.active).eq(this.cavendish.index).addClass(this.cavendish.options.class_names.active)},n}(s),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.setup=function(){var t=this;return this.next=e(".cavendish-next").click(function(){return t.cavendish.next(),!1}),this.prev=e(".cavendish-prev").click(function(){return t.cavendish.prev(),!1})},n.prototype.transition=function(){var e;if(!this.cavendish.options.loop)return e=this.cavendish.index+1===this.cavendish.length,this.next.toggleClass(this.cavendish.options.class_names.disabled,e),this.prev.toggleClass(this.cavendish.options.class_names.disabled,this.cavendish.index===0)},n}(s),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.setup=function(){var t=this;return this.background=e(".cavendish-background ol.slides"),this.background.children().each(function(t,n){return e(n).css("left",t*100+"%")})},n.prototype.transition=function(){return this.background.css("left",this.cavendish.index*-100+"%")},n}(s),e.fn.cavendish.plugins={events:n,pager:r,arrows:t,pan:i}}.call(this);