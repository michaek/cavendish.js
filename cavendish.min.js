// Generated by CoffeeScript 1.3.3
(function(){var e,t,n,r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=jQuery,t=function(){function t(e,t){this.show=e,this.options=t,this.slides=this.show.find(this.options.slideSelector),this.slides.length>0&&this.initialize()}return t.prototype.initialize=function(){var t,n,r,i,s;this.plugins=function(){var e,t,r,i;r=this.options.use_plugins,i=[];for(e=0,t=r.length;e<t;e++)n=r[e],i.push(new a[n](this));return i}.call(this),this.last=e(),this.length=this.slides.length,this.show.data("cavendish",this).addClass("cavendish-slideshow"),s=this.plugins;for(r=0,i=s.length;r<i;r++)t=s[r],t.setup();return this.goto(0),this.slides.not(this.current).addClass("cavendish-before")},t.prototype.next=function(){var e;return e=this.index+1,e>=this.length&&(e=0),this.goto(e)},t.prototype.prev=function(){var e;return e=this.index-1,e<0&&(e=this.slides.length-1),this.goto(e)},t.prototype.goto=function(t){var n,r,i,s,o,u=this;if(this.slides[t]==null)return;this.index=t,this.current!=null&&(this.last=this.current),this.current=this.slides.eq(this.index),this.slides.removeClass("cavendish-onstage cavendish-before cavendish-after cavendish-left cavendish-right"),this.last.addClass("cavendish-after"),this.current.addClass("cavendish-onstage"),this.slides.each(function(t,n){if(t<u.index)return e(n).addClass("cavendish-left");if(t>u.index)return e(n).addClass("cavendish-right")}),this.slides.not(this.last).not(this.current).addClass("cavendish-before"),s=this.plugins,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(n.transition());return o},t}(),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){var e=this;t.__super__.initialize.apply(this,arguments),this.options.player_pause&&this.show.hover(function(){return e.stop()},function(){return e.start()});if(this.options.player_start)return this.start()},t.prototype.start=function(){var e=this;return this.show.addClass("cavendish-playing"),this.timeout=setInterval(function(){return e.next()},this.options.slideTimeout)},t.prototype.stop=function(){return this.show.removeClass("cavendish-playing"),clearInterval(this.timeout)},t}(t),o=function(){function e(e){this.cavendish=e}return e.prototype.setup=function(){},e.prototype.transition=function(){},e}(),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.setup=function(){return this.cavendish.show.trigger("cavendish-setup",[this.cavendish])},t.prototype.transition=function(){return this.cavendish.show.trigger("cavendish-transition",[this.cavendish])},t}(o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.setup=function(){var t=this;return this.pager=e(".cavendish-pager"),this.pager.find("a").each(function(n,r){return e(r).click(function(){return t.cavendish.goto(n)})})},n.prototype.transition=function(){return this.pager.find("li").removeClass("active").eq(this.cavendish.index).addClass("active")},n}(o),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.setup=function(){var t=this;return this.background=e(".cavendish-background ol.slides"),this.background.children().each(function(t,n){return e(n).css("left",t*100+"%")})},n.prototype.transition=function(){return this.background.css("left",this.cavendish.index*-100+"%")},n}(o),e.fn.cavendish=function(n){var r;if(typeof n!="string")return n=e.extend({},u,n),this.each(function(){return n.player?new s(e(this),n):new t(e(this),n)});r=e(this).data("cavendish");if(r!=null)switch(n){case"next":r.next();break;case"prev":r.prev();break;case"cavendish":return r}return this},u=e.fn.cavendish.defaults={player:!0,player_start:!0,player_pause:!0,slideSelector:"> ol > li",slideTimeout:2e3,use_plugins:[]},a=e.fn.cavendish.plugins={events:n,pager:r,pan:i}}).call(this);