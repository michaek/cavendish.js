!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.cavendish=t()}(this,function(){"use strict";function e(e,t,n){if(n)for(a=0;a<n.length;a++)n[a]&&e.classList.toggle(n[a],!1);if(t)for(var a=0;a<t.length;a++)t[a]&&e.classList.toggle(t[a],!0)}var t={};return["slide","onstage","left","right","before","after","animating","pager","navigation"].forEach(function(e){t[e+"Class"]="cavendish-"+e}),function(n,a){a=Object.assign({},t,a);var l,s,o,r=[].slice.call(n.getElementsByClassName(a.slideClass)),i=[].slice.call(n.getElementsByClassName(a.pagerClass))[0],c=[].slice.call(n.getElementsByClassName(a.navigationClass))[0],f=["onstage","left","right","before","after"].map(function(e){return a[e+"Class"]}),g=1/r.length;if(a.panFactor&&(g=a.panFactor),a.panSelector&&(o=n.querySelector(a.panSelector))&&(o.style.width=100*(1+(r.length-1)*g*r.length)+"%"),i){var u=document.createElement("nav");r.forEach(function(e,t){var n=document.createElement("a");n.innerText=t+1,n.addEventListener("click",function(){p.goto(t)}),u.appendChild(n)}),i.appendChild(u)}if(c){var d=document.createElement("nav");["prev","next"].forEach(function(e){var t=document.createElement("a");t.innerText=e,t.addEventListener("click",function(){p[e]()}),d.appendChild(t)}),c.appendChild(d)}var p={goto:function(t){if(t!==l){var n;for(n=0;n<r.length;n++)n!==t&&e(r[n],[n<t?a.leftClass:a.rightClass,n!==l?a.beforeClass:""],f);e(r[t],[a.onstageClass],f),null!=l&&e(r[l],[a.afterClass],[a.onstageClass]),null!=o&&(o.style.transform="translateX("+-100*t*g+"%)"),l=t}},prev:function(){var e=l-1;p.goto(e>=0?e:a.loop?r.length-1:0)},next:function(){var e=l+1;p.goto(e>=r.length?a.loop?0:r.length-1:e)},start:function(){e(n,[a.animatingClass]),s=window.setInterval(p.next,2e3)},stop:function(){e(n,null,[a.animatingClass]),window.clearInterval(s)}};return p.goto(0),a.play&&(p.start(),n.addEventListener("mouseenter",function(e){e.target===e.currentTarget&&p.stop()}),n.addEventListener("mouseleave",function(e){e.target===e.currentTarget&&p.start()})),p}});